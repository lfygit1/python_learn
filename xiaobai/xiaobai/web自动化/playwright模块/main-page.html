<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>主页面 - 带 iframe 测试</title>
    <style>
        body { padding: 2rem; font-family: Arial; max-width: 900px; margin: 0 auto; }
        .form-box { margin-bottom: 2rem; padding: 1rem; border: 1px solid #eee; border-radius: 8px; }
        input { padding: 0.6rem; width: 300px; margin: 0.5rem 0; }
        button { padding: 0.6rem 1.2rem; background: #0078d7; color: white; border: none; border-radius: 4px; cursor: pointer; }
        .iframe-wrap { margin: 2rem 0; padding: 1rem; border: 1px solid #0078d7; border-radius: 8px; }
        iframe { width: 100%; height: 350px; border: 1px solid #ccc; border-radius: 4px; }
        .tip-box { margin-top: 1rem; padding: 1rem; background: #f0f8ff; display: none; }
    </style>
</head>
<body>
    <h1 data-testid="main-title">主页面 - 用户注册</h1>

    <!-- 主页面表单 -->
    <div class="form-box">
        <h3>基础信息</h3>
        <div>
            <label>用户名：</label>
            <input type="text" id="main-username" data-testid="main-username-input" placeholder="请输入用户名">
        </div>
        <div>
            <label>密码：</label>
            <input type="password" id="main-pwd" data-testid="main-pwd-input" placeholder="请输入密码">
        </div>
        <button id="main-submit" data-testid="main-submit-btn">主页面提交</button>
    </div>

    <!-- 嵌入 iframe 子页面 -->
    <div class="iframe-wrap">
        <h3>补充信息（内嵌页）</h3>
        <!-- 关键：嵌入本地 iframe 子页面，使用相对路径 -->
        <iframe
            id="info-iframe"
            name="info-frame"
            data-testid="info-iframe"
            src="./iframe-subpage.html"  <!-- 关联 iframe 子页面文件 -->
        ></iframe>
    </div>

    <!-- 提交成功提示 -->
    <div class="tip-box" id="success-tip" data-testid="success-tip">
        主页面 + 内嵌页信息提交成功！
    </div>

    <script>
        // 主页面提交逻辑
        document.getElementById('main-submit').addEventListener('click', function() {
            const username = document.getElementById('main-username').value;
            if (username) {
                document.getElementById('success-tip').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('success-tip').style.display = 'none';
                }, 3000);
            } else {
                alert('请先填写主页面用户名！');
            }
        });
    </script>
</body>
</html>